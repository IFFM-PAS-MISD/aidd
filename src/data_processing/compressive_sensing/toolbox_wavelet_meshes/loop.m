
P = [...
		[7 , 0 , 0  , 0 , 0 , 0 , 0 , 3 , 3 , 3] ; ...
		[1 , 1 , 0 ,  0 , 1 , 0 , 1 , 10 , 1 , 1] ; ...
		[1 , 0 , 1 , 0 , 1 , 1 , 0 , 1 , 10 , 1] ; ...
		[1 , 0 , 0 , 1 , 0 , 1 , 1 , 1 , 1 , 10] ; ...
		[1 , 0 , 0 , 0 , 1 , 0 ,  0 , 3 , 3 , 0]  ; ...
		[1 , 0 , 0 , 0 ,  0 , 1 , 0 ,  0 , 3 , 3] ; ...
		[1 , 0 , 0 , 0 ,  0 , 0 , 1 , 3 , 0 , 3] ; ...
		[1 , 0 , 0 , 0 ,  0 , 0 ,  0 , 3 , 1 , 1] ; ...
		[1 , 0 , 0 , 0 ,  0 , 0 ,  0 , 1 , 3 , 1] ; ...
		[1 , 0 ,  0 , 0 ,  0 , 0 ,  0 , 1 , 1 , 3] ];
    
m = size(P,1);
P = P ./ repmat(sum(P,2), [1,m]);

% P = V*D*V^(-1)
[V,D] = eig(P);
D = diag(D);
[D1,I] = sort(abs(D), 1, 'descend'); V = V(:,I);
Phi = (V^(-1))';
PhiTilde = V;